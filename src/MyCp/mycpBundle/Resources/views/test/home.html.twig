{% extends 'mycpBundle:layout:backend.html.twig' %}
{% block title %}Administración{% endblock %}
{% block top_body %}
<ul class="breadcrumb">
    <li><a href="{{path('mycp_backend_front')}}">Administración</a> <span class="divider">/</span></li>
    <li class="active">Testings<span class="divider">/</span></li>
    <li class="active">Plantillas de correo</li>
</ul>
{% endblock %}
{% block content %}
<h2>Plantillas de correo</h2>
<hr/>

<form id="form" method="post" action="">
    <div class="row-fluid"><b>Correo: </b>
        <input type="text" name="tEmail" id="tEmail"/>
    </div>
</form>
<h5>Equipo de Reservación</h5>
<table style="width:100%" class="table">
    <thead>
    <th style="width: 82%; text-align: left">Correo</th>
    <th>Acción</th>
    </thead>
    <tr>
        <td>Enviar voucher</td>
        <td style="text-align: right">
            <div class="row-fluid">
            <b>CAS.: </b>
            <input type="text" name="tReservationVoucher" id="tReservationVoucher" style="width:50px"/>
            <button class="btn btn-info bViewVoucher" data-url="{{path("mycp_test_view_voucher_rt")}}">Ver</button>
            <button class="btn btn-warning bSendVoucher" data-url="{{path("mycp_test_send_voucher_rt")}}">Enviar</button>
                </div>
        </td>
    </tr>
    <tr>
        <td>Consulta de disponibilidad</td>
        <td style="text-align: right">
                <div class="row-fluid">
                    <b>CAS.: </b>
                    <input type="text" name="tReservation" id="tReservation" style="width:50px"/>
                    <button title="Escriba el identificador de una reservación para ver el contenido del correo que se le envia al equipo de reservación" class="btn btn-danger bActionDisponibility" data-url="{{path("mycp_test_check_available_rt")}}">Ver</button>
                </div>
        </td>
    </tr>
    <tr>
        <td><a href="{{path("mycp_test_accommodation_notification_rt")}}">Comando: Notificación de últimos alojamientos añadidos</a></td>
        <td>
            <button class="btn btn-warning bSendDirectory" data-url="{{path("mycp_test_send_directory_rt")}}">Enviar</button>
        </td>
    </tr>
    <tr>
        <td>Confirmación de pago (Equipo Reserva)</td>
        <td style="text-align: right">
            <div class="row-fluid">
                <b>Booking: </b>
                <input type="text" name="tBookingReserva" id="tBookingReserva" style="width:50px"/>
                <button class="btn btn-danger bActionBookingReserva" data-url="{{path("mycp_test_view_confirmation_payment_rt")}}">Ver</button>
            </div>
        </td>
    </tr>
    <tr>
        <td>Confirmación de pago (Propietario)</td>
        <td style="text-align: right">
            <div class="row-fluid">
                <b>Booking: </b>
                <input type="text" name="tBookingOwner" id="tBookingOwner" style="width:50px"/>
                <button class="btn btn-danger bActionBookingOwner" data-url="{{path("mycp_test_view_confirmation_payment_owner")}}">Ver</button>
            </div>
        </td>
    </tr>
</table><hr/>

<h5>Remarketing</h5>
<table style="width:100%;" class="table">
    <thead>
    <th style="width: 70%; text-align: left" colspan="2">Correo</th>
    <th>Acción</th>
    </thead>
    <tr>
        <td rowspan="3" style="width: 20%">Accommodation still available</td>
        <td><a href="{{path("mycp_test_accommodation_still_available", {'langCode':'es'})}}">Español</a></td>
        <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_accommodation_still_available_send", {'langCode':'es', 'newMethod':0})}}">Método 1</button>
            <button class="btn btn-success bAction" data-url="{{path("mycp_test_accommodation_still_available_send", {'langCode':'es', 'newMethod':1})}}">Método 2</button></td>
    </tr>
    <tr>
        <td><a href="{{path("mycp_test_accommodation_still_available", {'langCode':'en'})}}">Inglés</a></td>
        <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_accommodation_still_available_send", {'langCode':'en', 'newMethod':0})}}">Método 1</button>
            <button class="btn btn-success bAction" data-url="{{path("mycp_test_accommodation_still_available_send", {'langCode':'en', 'newMethod':1})}}">Método 2</button></td>
    </tr>
    <tr>
        <td><a href="{{path("mycp_test_accommodation_still_available", {'langCode':'de'})}}">Alemán</a></td>
        <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_accommodation_still_available_send", {'langCode':'de', 'newMethod':0})}}">Método 1</button>
            <button class="btn btn-success bAction" data-url="{{path("mycp_test_accommodation_still_available_send", {'langCode':'de', 'newMethod':1})}}">Método 2</button></td>
    </tr>
    <tr>
        <td rowspan="3" style="width: 20%">Last chance to book</td>
        <td><a href="{{path("mycp_test_lastChanceToBook", {'langCode':'es'})}}">Español</a></td>
        <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_lastChanceToBook_send", {'langCode':'es', 'newMethod':0})}}">Método 1</button>
            <button class="btn btn-success bAction" data-url="{{path("mycp_test_lastChanceToBook_send", {'langCode':'es', 'newMethod':1})}}">Método 2</button></td>
    </tr>
    <tr>
        <td><a href="{{path("mycp_test_lastChanceToBook", {'langCode':'en'})}}">Inglés</a></td>
        <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_lastChanceToBook_send", {'langCode':'en', 'newMethod':0})}}">Método 1</button>
            <button class="btn btn-success bAction" data-url="{{path("mycp_test_lastChanceToBook_send", {'langCode':'en', 'newMethod':1})}}">Método 2</button></td>
    </tr>
    <tr>
        <td><a href="{{path("mycp_test_lastChanceToBook", {'langCode':'de'})}}">Alemán</a></td>
        <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_lastChanceToBook_send", {'langCode':'de', 'newMethod':0})}}">Método 1</button>
            <button class="btn btn-success bAction" data-url="{{path("mycp_test_lastChanceToBook_send", {'langCode':'de', 'newMethod':1})}}">Método 2</button></td>
    </tr>
    <tr>
        <td rowspan="3" style="width: 20%">Sorry, Not available anymore!</td>
        <td><a href="{{path("mycp_test_not_available", {'langCode':'es'})}}">Español</a></td>
        <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_not_available_send", {'langCode':'es', 'newMethod':0})}}">Método 1</button>
            <button class="btn btn-success bAction" data-url="{{path("mycp_test_not_available_send", {'langCode':'es', 'newMethod':1})}}">Método 2</button></td>
    </tr>
    <tr>
        <td><a href="{{path("mycp_test_not_available", {'langCode':'en'})}}">Inglés</a></td>
        <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_not_available_send", {'langCode':'en', 'newMethod':0})}}">Método 1</button>
            <button class="btn btn-success bAction" data-url="{{path("mycp_test_not_available_send", {'langCode':'en', 'newMethod':1})}}">Método 2</button></td>
    </tr>
    <tr>
        <td><a href="{{path("mycp_test_not_available", {'langCode':'de'})}}">Alemán</a></td>
        <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_not_available_send", {'langCode':'de', 'newMethod':0})}}">Método 1</button>
            <button class="btn btn-success bAction" data-url="{{path("mycp_test_not_available_send", {'langCode':'de', 'newMethod':1})}}">Método 2</button></td>
    </tr>
    <tr>
        <td rowspan="3" style="width: 20%">Shopping Cart full - What do you want to do?</td>
        <td><a href="{{path("mycp_test_cart_full_reminder", {'langCode':'es'})}}">Español</a></td>
        <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_cart_full_reminder_send", {'langCode':'es', 'newMethod':0})}}">Método 1</button>
            <button class="btn btn-success bAction" data-url="{{path("mycp_test_cart_full_reminder_send", {'langCode':'es', 'newMethod':1})}}">Método 2</button></td>
    </tr>
    <tr>
        <td><a href="{{path("mycp_test_cart_full_reminder", {'langCode':'en'})}}">Inglés</a></td>
        <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_cart_full_reminder_send", {'langCode':'en', 'newMethod':0})}}">Método 1</button>
            <button class="btn btn-success bAction" data-url="{{path("mycp_test_cart_full_reminder_send", {'langCode':'en', 'newMethod':1})}}">Método 2</button></td>
    </tr>
    <tr>
        <td><a href="{{path("mycp_test_cart_full_reminder", {'langCode':'de'})}}">Alemán</a></td>
        <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_cart_full_reminder_send", {'langCode':'de', 'newMethod':0})}}">Método 1</button>
            <button class="btn btn-success bAction" data-url="{{path("mycp_test_cart_full_reminder_send", {'langCode':'de', 'newMethod':1})}}">Método 2</button></td>
    </tr>
    <tr>
        <td rowspan="3" style="width: 20%">Feedback - Please give us your feedback</td>
        <td><a href="{{path("mycp_test_feedback_reminder", {'langCode':'es'})}}">Español</a></td>
        <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_feedback_reminder_send", {'langCode':'es', 'newMethod':0})}}">Método 1</button>
            <button class="btn btn-success bAction" data-url="{{path("mycp_test_feedback_reminder_send", {'langCode':'es', 'newMethod':1})}}">Método 2</button></td>
    </tr>
    <tr>
        <td><a href="{{path("mycp_test_feedback_reminder", {'langCode':'en'})}}">Inglés</a></td>
        <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_feedback_reminder_send", {'langCode':'en', 'newMethod':0})}}">Método 1</button>
            <button class="btn btn-success bAction" data-url="{{path("mycp_test_feedback_reminder_send", {'langCode':'en', 'newMethod':1})}}">Método 2</button></td>
    </tr>
    <tr>
        <td><a href="{{path("mycp_test_feedback_reminder", {'langCode':'de'})}}">Alemán</a></td>
        <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_feedback_reminder_send", {'langCode':'de', 'newMethod':0})}}">Método 1</button>
            <button class="btn btn-success bAction" data-url="{{path("mycp_test_feedback_reminder_send", {'langCode':'de', 'newMethod':1})}}">Método 2</button></td>
    </tr>
</table><hr/>

<h5>Cuentas de Usuario</h5>
<table style="width:100%;" class="table">
    <thead>
    <th style="width: 70%; text-align: left" colspan="2">Correo</th>
    <th>Acción</th>
    </thead>
    <tr>
        <td rowspan="3" style="width: 20%">Activate your account</td>
        <td><a href="{{path("mycp_test_activate_user_account", {'langCode':'es'})}}">Español</a></td>
        <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_activate_user_account_send", {'langCode':'es', 'newMethod':0})}}">Método 1</button>
            <button class="btn btn-success bAction" data-url="{{path("mycp_test_activate_user_account_send", {'langCode':'es', 'newMethod':1})}}">Método 2</button></td>
    </tr>
    <tr>
        <td><a href="{{path("mycp_test_activate_user_account", {'langCode':'en'})}}">Inglés</a></td>
        <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_activate_user_account_send", {'langCode':'en', 'newMethod':0})}}">Método 1</button>
            <button class="btn btn-success bAction" data-url="{{path("mycp_test_activate_user_account_send", {'langCode':'en', 'newMethod':1})}}">Método 2</button></td>
    </tr>
    <tr>
        <td><a href="{{path("mycp_test_activate_user_account", {'langCode':'de'})}}">Alemán</a></td>
        <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_activate_user_account_send", {'langCode':'de', 'newMethod':0})}}">Método 1</button>
            <button class="btn btn-success bAction" data-url="{{path("mycp_test_activate_user_account_send", {'langCode':'de', 'newMethod':1})}}">Método 2</button></td>
    </tr>
    <tr>
        <td rowspan="3" style="width: 20%">Activate your account (reminder)</td>
        <td><a href="{{path("mycp_test_activate_user_reminder_account", {'langCode':'es'})}}">Español</a></td>
        <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_activate_user_reminder_account_send", {'langCode':'es', 'newMethod':0})}}">Método 1</button>
            <button class="btn btn-success bAction" data-url="{{path("mycp_test_activate_user_reminder_account_send", {'langCode':'es', 'newMethod':1})}}">Método 2</button></td>
    </tr>
    <tr>
        <td><a href="{{path("mycp_test_activate_user_reminder_account", {'langCode':'en'})}}">Inglés</a></td>
        <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_activate_user_reminder_account_send", {'langCode':'en', 'newMethod':0})}}">Método 1</button>
            <button class="btn btn-success bAction" data-url="{{path("mycp_test_activate_user_reminder_account_send", {'langCode':'en', 'newMethod':1})}}">Método 2</button></td>
    </tr>
    <tr>
        <td><a href="{{path("mycp_test_activate_user_reminder_account", {'langCode':'de'})}}">Alemán</a></td>
        <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_activate_user_reminder_account_send", {'langCode':'de', 'newMethod':0})}}">Método 1</button>
            <button class="btn btn-success bAction" data-url="{{path("mycp_test_activate_user_reminder_account_send", {'langCode':'de', 'newMethod':1})}}">Método 2</button></td>
    </tr>
    <tr>
        <td rowspan="3" style="width: 20%">Not activated yet/Having any trouble?</td>
        <td><a href="{{path("mycp_test_activate_user_last_reminder_account", {'langCode':'es'})}}">Español</a></td>
        <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_activate_user_last_reminder_account_send", {'langCode':'es', 'newMethod':0})}}">Método 1</button>
            <button class="btn btn-success bAction" data-url="{{path("mycp_test_activate_user_last_reminder_account_send", {'langCode':'es', 'newMethod':1})}}">Método 2</button></td>
    </tr>
    <tr>
        <td><a href="{{path("mycp_test_activate_user_last_reminder_account", {'langCode':'en'})}}">Inglés</a></td>
        <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_activate_user_last_reminder_account_send", {'langCode':'en', 'newMethod':0})}}">Método 1</button>
            <button class="btn btn-success bAction" data-url="{{path("mycp_test_activate_user_last_reminder_account_send", {'langCode':'en', 'newMethod':1})}}">Método 2</button></td>
    </tr>
    <tr>
        <td><a href="{{path("mycp_test_activate_user_last_reminder_account", {'langCode':'de'})}}">Alemán</a></td>
        <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_activate_user_last_reminder_account_send", {'langCode':'de', 'newMethod':0})}}">Método 1</button>
            <button class="btn btn-success bAction" data-url="{{path("mycp_test_activate_user_last_reminder_account_send", {'langCode':'de', 'newMethod':1})}}">Método 2</button></td>
    </tr>
</table><hr/>
    <h5>Boletin</h5>
    <table style="width:100%;" class="table">
        <thead>
        <th style="width: 70%; text-align: left" colspan="2">Correo</th>
        <th>Acción</th>
        </thead>
        <tr>
            <td rowspan="3" style="width: 20%">Correo de boletin</td>
            <td><a href="{{path("mycp_test_newsletter", {'langCode':'es'})}}">Español</a></td>
            <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_newsletter_send", {'langCode':'es', 'newMethod':0})}}">Método 1</button>
                <button class="btn btn-success bAction" data-url="{{path("mycp_test_newsletter_send", {'langCode':'es', 'newMethod':1})}}">Método 2</button></td>
        </tr>
        <tr>
            <td><a href="{{path("mycp_test_newsletter", {'langCode':'en'})}}">Inglés</a></td>
            <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_newsletter_send", {'langCode':'en', 'newMethod':0})}}">Método 1</button>
                <button class="btn btn-success bAction" data-url="{{path("mycp_test_newsletter_send", {'langCode':'en', 'newMethod':1})}}">Método 2</button></td>
        </tr>
        <tr>
            <td><a href="{{path("mycp_test_newsletter", {'langCode':'de'})}}">Alemán</a></td>
            <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_newsletter_send", {'langCode':'de', 'newMethod':0})}}">Método 1</button>
                <button class="btn btn-success bAction" data-url="{{path("mycp_test_newsletter_send", {'langCode':'de', 'newMethod':1})}}">Método 2</button></td>
        </tr>
    </table>

    <h5>Backend</h5>
    <table style="width:100%;" class="table">
        <thead>
        <th style="width: 70%; text-align: left" colspan="2">Correo</th>
        <th>Acción</th>
        </thead>
        <tr>
            <td rowspan="3" style="width: 20%">Nueva Oferta</td>
            <td><a href="{{path("mycp_test_new_offer", {'langCode':'es'})}}">Español</a></td>
            <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_new_offer_send", {'langCode':'es', 'newMethod':0})}}">Método 1</button>
                <button class="btn btn-success bAction" data-url="{{path("mycp_test_new_offer_send", {'langCode':'es', 'newMethod':1})}}">Método 2</button></td>
        </tr>
        <tr>
            <td><a href="{{path("mycp_test_new_offer", {'langCode':'en'})}}">Inglés</a></td>
            <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_new_offer_send", {'langCode':'en', 'newMethod':0})}}">Método 1</button>
                <button class="btn btn-success bAction" data-url="{{path("mycp_test_new_offer_send", {'langCode':'en', 'newMethod':1})}}">Método 2</button></td>
        </tr>
        <tr>
            <td><a href="{{path("mycp_test_new_offer", {'langCode':'de'})}}">Alemán</a></td>
            <td><button class="btn btn-primary bAction" data-url="{{path("mycp_test_new_offer_send", {'langCode':'de', 'newMethod':0})}}">Método 1</button>
                <button class="btn btn-success bAction" data-url="{{path("mycp_test_new_offer_send", {'langCode':'de', 'newMethod':1})}}">Método 2</button></td>
        </tr>
    </table>
{% endblock %}
{% block javascripts %}
    {% javascripts
    '@mycpBundle/Resources/public/js/common_list.js'
    filter='?uglifyjs2'
    %}
    <script src="{{ asset_url }}"></script>
    {% endjavascripts %}

<script type="text/javascript">
    $(".bAction").click(function(){
        url = $(this).attr("data-url");
        mail = $("#tEmail").val();
        url=url+'/'+mail;
        $('#form').attr('action',url);
        $('#form').submit();
    });

    $(".bActionDisponibility").click(function(){
        url = $(this).attr("data-url");
        reservation = $("#tReservation").val();
        url=url+'/'+reservation;
        /*$('#form').attr('action',url);
        $('#form').submit();*/
        window.location = url;
    });

    $(".bActionBookingReserva").click(function(){
        url = $(this).attr("data-url");
        booking = $("#tBookingReserva").val();
        url=url+'/'+booking;
        window.location = url;
    });

    $(".bActionBookingOwner").click(function(){
        url = $(this).attr("data-url");
        booking = $("#tBookingOwner").val();
        url=url+'/'+booking;
        window.location = url;
    });

    $(".bViewVoucher").click(function(){
        url = $(this).attr("data-url");
        reservation = $("#tReservationVoucher").val();
        url=url+'/'+reservation;
        /*$('#form').attr('action',url);
         $('#form').submit();*/
        window.location = url;
    });

    $(".bSendVoucher").click(function(){
        url = $(this).attr("data-url");
        reservation = $("#tReservationVoucher").val();
        mail = $("#tEmail").val();
        url=url+'/'+reservation+'/'+mail;
        /*$('#form').attr('action',url);
         $('#form').submit();*/
        window.location = url;
    });

    $(".bSendDirectory").click(function(){
        url = $(this).attr("data-url");
        mail = $("#tEmail").val();
        url=url+'/'+mail;
        /*$('#form').attr('action',url);
         $('#form').submit();*/
        window.location = url;
    });
</script>
{% endblock %}
