<script src="{{ asset('bundles/frontend/js/typeahead.min.js') }}"></script>
<script src="{{ asset('bundles/frontend/js/orangeSearchBar.js') }}"></script>

<div class="orange-shadow-cont text-center">
                <span style="color: #ffffff; margin-bottom: 5px; display: block">{{"ACCOMMODATION_SEARCH_TITLE" | trans | title}}</span>
                <div><input type="text" class="form-control" {%if app.session.get('search_text') != null and app.session.get('search_text') != 'null'%}value="{{app.session.get('search_text')}}"{%endif%} placeholder="{{"PLACE_WATERMARK" | trans}}" id="input_text" autocomplete="off" data-highlighter="null" data-items="5" data- data-provide="typeahead" data-source='{{autocomplete_text_list}}'/></div>
                <div class="input-group">
                    <input class="form-control" type="text" value="{{(app.session.get('search_arrival_date') != null) ? (app.session.get('search_arrival_date')|date("d/m/Y")) : ("now" |date("d/m/Y"))}}" placeholder="{{"ARRIVAL_WATERMARK" | trans}}" id="input_arrival_date" data-localization='{{locale}}'>
                    <span class="input-group-addon"><span class="icon-calendar"></span></span>
                </div>
                <div class="input-group">
                    <input class="form-control" type="text" value="{{(app.session.get('search_departure_date') != null) ? (app.session.get('search_departure_date')|date("d/m/Y")) : ("+1 day" |date("d/m/Y"))}}" placeholder="{{"DEPARTURE_WATERMARK" | trans}}" id="input_departure_date" data-localization='{{locale}}'>
                    <span class="input-group-addon"><span class="icon-calendar"></span></span>
                </div>
                <div>
                <table class="full-width">
                    <tr>
                        <td>
                            <select class="form-control" id="input_guests">
                            <option value="1" {%if app.session.get('search_guests') != null and app.session.get('search_guests') == "1" %} selected {%endif%}>{{"GUEST_WATERMARK" | trans}}</option>
                            <option value="2" {%if app.session.get('search_guests') != null and app.session.get('search_guests') == "2" %} selected {%endif%}>2 {{"GUESTS" | trans}}</option>
                            <option value="3" {%if app.session.get('search_guests') != null and app.session.get('search_guests') == "3" %} selected {%endif%}>3 {{"GUESTS" | trans}}</option>
                            <option value="4" {%if app.session.get('search_guests') != null and app.session.get('search_guests') == "4" %} selected {%endif%}>4 {{"GUESTS" | trans}}</option>
                            <option value="5" {%if app.session.get('search_guests') != null and app.session.get('search_guests') == "5" %} selected {%endif%}>5 {{"GUESTS" | trans}}</option>
                            <option value="6" {%if app.session.get('search_guests') != null and app.session.get('search_guests') == "6" %} selected {%endif%}>6 {{"GUESTS" | trans}}</option>
                            <option value="7" {%if app.session.get('search_guests') != null and app.session.get('search_guests') == "7" %} selected {%endif%}>7 {{"GUESTS" | trans}}</option>
                            <option value="8" {%if app.session.get('search_guests') != null and app.session.get('search_guests') == "8" %} selected {%endif%}>8 {{"GUESTS" | trans}}</option>
                            <option value="9" {%if app.session.get('search_guests') != null and app.session.get('search_guests') == "9" %} selected {%endif%}>9 {{"GUESTS" | trans}}</option>
                            <option value="10" {%if app.session.get('search_guests') != null and app.session.get('search_guests') == "10" %} selected {%endif%}>10 {{"GUESTS" | trans}}</option>
                            <option value="+10" {%if app.session.get('search_guests') != null and app.session.get('search_guests') == "+10" %} selected {%endif%}>+10 {{"GUESTS" | trans}}</option>
                        </select>
                        </td>
                        <td>
                            <select class="form-control" id="input_room">
                            <option value="1" {%if app.session.get('search_rooms') != null and app.session.get('search_rooms') == "1" %} selected {%endif%}>{{"ROOM_WATERMARK" | trans }}</option>
                            <option value="2" {%if app.session.get('search_rooms') != null and app.session.get('search_rooms') == "2" %} selected {%endif%}>2 {{"ROOM_PLURAL" | trans | capitalize}}</option>
                            <option value="3" {%if app.session.get('search_rooms') != null and app.session.get('search_rooms') == "3" %} selected {%endif%}>3 {{"ROOM_PLURAL" | trans | capitalize}}</option>
                            <option value="4" {%if app.session.get('search_rooms') != null and app.session.get('search_rooms') == "4" %} selected {%endif%}>4 {{"ROOM_PLURAL" | trans | capitalize}}</option>
                            <option value="5" {%if app.session.get('search_rooms') != null and app.session.get('search_rooms') == "5" %} selected {%endif%}>5 {{"ROOM_PLURAL" | trans | capitalize}}</option>
                            <option value="+5" {%if app.session.get('search_rooms') != null and app.session.get('search_rooms') == "+5" %} selected {%endif%}>+5 {{"ROOM_PLURAL" | trans | capitalize}}</option>
                        </select>
                        </td>
                    </tr>
                </table>
                </div>
                {%if is_within_search_results%}
                <button id="button_research" class="btn btn-block btn-primary" data-url="{{ path('frontend_research_ownership') }}">{{"SEARCH" | trans}}</button>
                {%else%}
                <button id="btn_search" class="btn btn-block btn-primary" data-url="{{ path('frontend_search_ownership',{'text':'_text', 'arrival':'_arrival','departure':'_departure','guests':'_guests','rooms':'_rooms'})}}" onclick="search()">{{"SEARCH" | trans}}</button>
                {%endif%}
            </div>

<script type="text/javascript">
    var today_date="{{"now"|date("d/m/Y") }}";
    var start_date="{{ (app.session.get('search_arrival_date') != null) ? (app.session.get('search_arrival_date')|date("d/m/Y")) : ("now"|date("d/m/Y")) }}";
    var end_date="{{(app.session.get('search_departure_date') != null) ? (app.session.get('search_departure_date')|date("d/m/Y")) : "+1 day" |date("d/m/Y")}}";
</script>